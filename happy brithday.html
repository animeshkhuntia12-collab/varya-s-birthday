<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Varya!</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(270deg, #0a1c3a, #162850, #274078, #162850, #0a1c3a);
    background-size: 1000% 1000%;
    animation: skyMove 40s ease infinite;
    color: white;
  }
  @keyframes skyMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  /* Stars */
  .star {
    position: absolute;
    width: 2px; height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle 2s infinite alternate;
  }
  @keyframes twinkle {
    from { opacity: 0.2; }
    to { opacity: 1; }
  }

  .container {
    position: absolute;
    top: 50%; left: 50%;
    transform: translate(-50%,-50%);
    text-align: center;
    opacity: 0;
    transition: opacity 1s ease;
    max-width: 600px;
  }
  .container.show { opacity: 1; }

  .card {
    background: rgba(255,255,255,0.1);
    padding: 30px;
    border-radius: 20px;
    border: 2px solid gold;
    box-shadow: 0 0 30px rgba(255,215,0,0.5);
    font-family: "Georgia", cursive;
  }

  h1 {
    font-size: 2.5em;
    color: #ffd700;
    text-shadow: 0 0 10px gold;
  }

  .btn {
    margin: 10px;
    padding: 10px 20px;
    border: none;
    border-radius: 12px;
    background: #ff69b4;
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: transform 0.2s;
  }
  .btn:hover { transform: scale(1.1); }

  .balloon {
    position: fixed;
    bottom: -120px;
    font-size: 48px;
    animation: rise 6s ease-in forwards;
    pointer-events: none;
  }
  @keyframes rise {
    0% { transform: translateY(0) scale(1); opacity: 1; }
    100% { transform: translateY(-120vh) scale(1.2); opacity: 0; }
  }

  .cat {
    position: fixed;
    bottom: -100px;
    font-size: 40px;
    animation: floatcat 10s linear forwards;
  }
  @keyframes floatcat {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-120vh); opacity: 0; }
  }

  #letter {
    white-space: pre-wrap;
    text-align: left;
    margin-top: 20px;
    min-height: 120px;
    font-size: 18px;
  }

  #canvas {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
  }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div class="container">
  <div class="card">
    <h1>‚ú® Happy Birthday Varya! ‚ú®</h1>
    <p>Wishing you joy, cats, and adventures as magical as Genshin Impact üê±üíñ</p>
    <button class="btn" id="open">üéÅ Open Your Surprise</button>
    <button class="btn" id="fireworks">üéÜ Launch Fireworks</button>
    <div id="letter"></div>
  </div>
</div>

<script>
  const W = window.innerWidth, H = window.innerHeight;
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");
  canvas.width = W; canvas.height = H;

  // Stars
  for(let i=0;i<100;i++){
    const star = document.createElement("div");
    star.className="star";
    star.style.left = Math.random()*100+"vw";
    star.style.top = Math.random()*100+"vh";
    star.style.animationDuration = 1+Math.random()*3+"s";
    document.body.appendChild(star);
  }

  // Balloons
  function launchBalloons(count=12){
    for(let i=0;i<count;i++){
      const b=document.createElement("div");
      b.className="balloon";
      b.textContent="üéà";
      b.style.left=Math.random()*90+"vw";
      b.style.fontSize=40+Math.random()*20+"px";
      b.style.animationDuration=4+Math.random()*3+"s";
      document.body.appendChild(b);
      setTimeout(()=>b.remove(),8000);
    }
  }

  // Cats
  function floatCats(count=3){
    const emojis=["üê±","üêà","üò∫","üò∏"];
    for(let i=0;i<count;i++){
      const c=document.createElement("div");
      c.className="cat";
      c.textContent=emojis[Math.floor(Math.random()*emojis.length)];
      c.style.left=Math.random()*90+"vw";
      c.style.animationDuration=6+Math.random()*5+"s";
      document.body.appendChild(c);
      setTimeout(()=>c.remove(),11000);
    }
  }

  // Fireworks
  let particles=[];
  class Particle{
    constructor(x,y,color){
      this.x=x; this.y=y; this.color=color;
      const angle=Math.random()*2*Math.PI;
      const speed=Math.random()*5+2;
      this.vx=Math.cos(angle)*speed;
      this.vy=Math.sin(angle)*speed;
      this.life=100;
    }
    update(){
      this.x+=this.vx; this.y+=this.vy;
      this.vy+=0.05; this.life--;
    }
    draw(){
      ctx.fillStyle=this.color;
      ctx.beginPath();
      ctx.arc(this.x,this.y,2,0,Math.PI*2);
      ctx.fill();
    }
  }

  function fireworks(){
    const x=Math.random()*W, y=Math.random()*H/2;
    const colors=["#ff69b4","#ffd700","#87ceeb","#00ffcc"];
    for(let i=0;i<80;i++){
      particles.push(new Particle(x,y,colors[Math.floor(Math.random()*colors.length)]));
    }
  }

  function animate(){
    ctx.fillStyle="rgba(0,0,0,0.2)";
    ctx.fillRect(0,0,W,H);
    particles.forEach((p,i)=>{
      p.update(); p.draw();
      if(p.life<=0) particles.splice(i,1);
    });
    requestAnimationFrame(animate);
  }
  animate();

  // Typing effect
  const letterText=`Dear Varya,  
May your day shine brighter than Mondstadt‚Äôs sky,  
be filled with the warmth of cat cuddles üêæ,  
and bring you adventures as magical as Teyvat ‚ú®.  

Happy Birthday, Varya! üéÇüíñ`;

  function typeLetter(text){
    let i=0, speed=40;
    function typing(){
      if(i<text.length){
        document.getElementById("letter").textContent+=text[i];
        i++;
        setTimeout(typing,speed);
      }
    }
    typing();
  }

  // Buttons
  document.getElementById("open").onclick=()=>{
    typeLetter(letterText);
    fireworks();
    launchBalloons(10);
    floatCats(5);
  };

  document.getElementById("fireworks").onclick=()=>{
    for(let i=0;i<5;i++) setTimeout(fireworks,i*500);
  };

  // On page load
  window.onload=()=>{
    launchBalloons(15);
    floatCats(6);
    setTimeout(()=>document.querySelector(".container").classList.add("show"),3000);
  };
</script>
</body>
</html>
